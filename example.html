  <html>
    <head>
      <script>//
// A JS library used to implement Elixir/Erlang standard library or language
// features that don't translate very cleanly 1:1.
//
const ExScript = {}

// Namespace for user-land modules
ExScript.Modules = {}
ExScript.Modules.JS = {}
ExScript.Modules.IO = {
  puts: window.console.log,
  inspect: window.console.debug,
}

// Global type checking functions in Elixir
ExScript.is_atom = val => typeof val === 'symbol'
ExScript.is_binary = val => typeof val === 'string'
ExScript.is_bitstring = val => typeof val === 'string'
ExScript.is_boolean = val => typeof val === 'boolean'
ExScript.is_float = val => typeof val === 'number' && parseInt(val) === val
ExScript.is_function = val => typeof val === 'function'
ExScript.is_integer = val => typeof val === 'number' && !ExScript.is_float(val)
ExScript.is_list = val => val instanceof Array
ExScript.is_map = val => typeof val === 'object'
ExScript.is_nil = val => typeof val === null
ExScript.is_number = val => typeof val === 'number'
// Non-basic types
ExScript.is_pid = val => typeof val === 'boolean'
ExScript.is_port = val => typeof val === 'boolean'
ExScript.is_reference = val => typeof val === 'boolean'
ExScript.is_tuple = val => typeof val === 'boolean'


// Standard library

// Enum
ExScript.Modules.Enum = {}
ExScript.Modules.Enum.map = (e, ittr) => Array.prototype.map.call(e, ittr)
ExScript.Modules.Enum.join = (e, char) => Array.prototype.join.call(e, char)

// List
ExScript.Modules.List = {}
ExScript.Modules.List.first = (list) => list[0]
;
ExScript.Modules.GriffinViewServer = {
    render(view, model) {
        return this.to_html(view, model, view.render(model));
    },
    to_html(view, model, el) {
        return (() => {
            if (ExScript.is_bitstring(el)) {
                return el;
            } else if (ExScript.is_list(ExScript.Modules.List.first(el))) {
                return ExScript.Modules.Enum.join(ExScript.Modules.Enum.map(el, child => {
                    return this.to_html(view, model, child);
                }), '');
            } else if (ExScript.is_list(el)) {
                const has_els_func = this.not(ExScript.is_nil(view.__info__(Symbol('functions');)[Symbol('els');]));
                const [tag_label, ...children] = el;
                return this.and(has_els_func, this.not(ExScript.is_nil(view.els[tag_label]))) ? ExScript.Modules.IO.inspect(view.els[tag_label]) : const children = ExScript.Modules.Enum.join(ExScript.Modules.Enum.map(children, child => {
                    return this.to_html(view, model, child);
                }), '');;
            }
        })();
    },
    split_tag_label(view, tag) {
        return null;
    }
}</script>
    </head>
  </html>
